# ==============================================
# QR MENÜ SİSTEMİ - BACKEND ENVIRONMENT VARIABLES
# ==============================================
# Bu dosyayı .env olarak kopyalayın ve kendi değerlerinizi girin

# ==============================================
# SERVER AYARLARI
# ==============================================
# Sunucunun çalışacağı port numarası
# Railway otomatik olarak PORT değişkenini sağlar, değiştirmenize gerek yok
PORT=5000

# Çalışma ortamı: development, production, test
NODE_ENV=development

# ==============================================
# VERİTABANI AYARLARI (PostgreSQL - Supabase)
# ==============================================
# SUPABASE POOLER URL (GÜNLÜK SORGULAR İÇİN - HIZLI)
# ÖNEMLİ: 6543 portu + pgbouncer=true parametresi kullanın
# Supabase Dashboard → Settings → Database → Connection String → Mode: Session
# Format: postgresql://postgres.[project-ref]:[password]@[host]:6543/postgres?pgbouncer=true&connection_limit=10&pool_timeout=20
DATABASE_URL="postgresql://postgres.[project-ref]:YOURPASSWORD@aws-0-eu-central-1.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=10&pool_timeout=20"

# DIRECT URL (MIGRATIONS İÇİN - YAVAŞ AMA GEREKLİ)
# Supabase Dashboard → Settings → Database → Connection String → Mode: Direct
# Format: postgresql://postgres.[project-ref]:[password]@[host]:5432/postgres
DIRECT_URL="postgresql://postgres.[project-ref]:YOURPASSWORD@aws-0-eu-central-1.pooler.supabase.com:5432/postgres"

# ==============================================
# JWT (JSON Web Token) AYARLARI
# ==============================================
# JWT token oluşturmak için kullanılan gizli anahtar
# ÖNEMLİ: Production'da mutlaka güçlü, rastgele bir değer kullanın!
# Örnek güçlü key: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-CHANGE-THIS-IN-PRODUCTION"

# JWT token'ın geçerlilik süresi
# Örnekler: "7d" = 7 gün, "24h" = 24 saat, "30m" = 30 dakika
JWT_EXPIRES_IN=7d

# ==============================================
# DOSYA YÜKLEME AYARLARI
# ==============================================
# Yüklenen dosyaların (logo, ürün resimleri) saklanacağı dizin
# Railway ephemeral storage kullanır - kalıcı dosyalar için S3/Cloudinary gerekir
UPLOAD_DIR=./uploads

# Maksimum dosya boyutu (byte cinsinden)
# 5242880 byte = 5 MB
MAX_FILE_SIZE=5242880

# ==============================================# CLOUDINARY AYARLARI (Cloud Storage)
# ==============================================
# Cloudinary hesabınızdan alın: https://cloudinary.com/console
# Görseller kalıcı olarak Cloudinary'de saklanır
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ==============================================# CORS VE FRONTEND AYARLARI
# ==============================================
# Frontend uygulamasının URL'si
# LOKAL: http://localhost:3000
# PRODUCTION: https://your-domain.com veya Vercel/Netlify URL'iniz
FRONTEND_URL=http://localhost:3000

# ==============================================
# RAILWAY DEPLOYMENT NOTLARI
# ==============================================
# 1. Railway Dashboard → New Project → Deploy from GitHub repo
# 2. Add Plugin → PostgreSQL seçin
# 3. Variables sekmesinden bu değişkenleri ekleyin
# 4. DATABASE_URL otomatik eklenir, diğerlerini manuel ekleyin
# 5. Deploy sonrası migration otomatik çalışır (nixpacks.toml'da tanımlı)
#
# LOKAL GELİŞTİRME:
# 1. Bu dosyayı .env olarak kopyalayın
# 2. PostgreSQL kurulu değilse Railway'den bağlantı kullanabilirsiniz
# 3. npm run dev ile geliştirme sunucusunu başlatın
# 4. npm run build && npm start ile production testi yapın
